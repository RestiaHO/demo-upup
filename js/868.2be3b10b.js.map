{"version":3,"file":"js/868.2be3b10b.js","mappings":"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","sources":["webpack://toutiao-m/./src/views/search/search.vue?2a5a","webpack://toutiao-m/./src/views/search/components/search-history.vue?8d4e","webpack://toutiao-m/src/views/search/components/search-history.vue","webpack://toutiao-m/./src/views/search/components/search-history.vue?7bf0","webpack://toutiao-m/./src/views/search/components/search-history.vue","webpack://toutiao-m/./src/views/search/components/search-suggestion.vue?e78d","webpack://toutiao-m/src/views/search/components/search-suggestion.vue","webpack://toutiao-m/./src/views/search/components/search-suggestion.vue?a98a","webpack://toutiao-m/./src/views/search/components/search-suggestion.vue","webpack://toutiao-m/./src/views/search/components/search-result.vue?480a","webpack://toutiao-m/src/views/search/components/search-result.vue","webpack://toutiao-m/./src/views/search/components/search-result.vue?6b5a","webpack://toutiao-m/./src/views/search/components/search-result.vue","webpack://toutiao-m/src/views/search/search.vue","webpack://toutiao-m/./src/views/search/search.vue?015d","webpack://toutiao-m/./src/views/search/search.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-container\"},[_c('form',{attrs:{\"action\":\"/\"}},[_c('van-search',{attrs:{\"show-action\":\"\",\"background\":\"#3296fa\",\"placeholder\":\"请输入搜索关键词\"},on:{\"search\":_vm.onSearch,\"cancel\":_vm.onCancel,\"focus\":function($event){_vm.isResultShow = false}},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}})],1),(_vm.isResultShow)?_c('search-result',{attrs:{\"searchText\":_vm.searchText}}):(_vm.searchText)?_c('search-suggestion',{attrs:{\"searchText\":_vm.searchText},on:{\"search\":_vm.onSearch}}):_c('search-history',{attrs:{\"searchHistories\":_vm.searchHistories},on:{\"clear-search-histories\":function($event){_vm.searchHistories = []},\"search\":_vm.onSearch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-history\"},[_c('van-cell',{attrs:{\"title\":\"搜索历史\"}},[(_vm.isDeleteShow)?[_c('span',{on:{\"click\":function($event){return _vm.$emit('clear-search-histories')}}},[_vm._v(\"全部删除\")]),_vm._v(\"    \"),_c('span',{on:{\"click\":function($event){_vm.isDeleteShow = false}}},[_vm._v(\"完成\")])]:_c('van-icon',{attrs:{\"name\":\"delete\"},on:{\"click\":function($event){_vm.isDeleteShow = true}}})],2),_vm._l((_vm.searchHistories),function(item,index){return _c('van-cell',{key:index,attrs:{\"title\":item},on:{\"click\":function($event){return _vm.onHistoryClick(item, index)}}},[(_vm.isDeleteShow)?_c('van-icon',{attrs:{\"name\":\"close\"}}):_vm._e()],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-history\">\n    <van-cell title=\"搜索历史\">\n      <template v-if=\"isDeleteShow\">\n        <span @click=\"$emit('clear-search-histories')\">全部删除</span>\n        &nbsp;&nbsp;\n        <span @click=\"isDeleteShow = false\">完成</span>\n      </template>\n      <van-icon v-else name=\"delete\" @click=\"isDeleteShow = true\"/>\n    </van-cell>\n    <van-cell\n      :title=\"item\"\n      v-for=\"(item, index) in searchHistories\"\n      :key=\"index\"\n      @click=\"onHistoryClick(item, index)\"\n    >\n      <van-icon v-if=\"isDeleteShow\" name=\"close\"></van-icon>\n    </van-cell>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SearchHistory',\n  props: {\n    searchHistories: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data () {\n    return {\n      isDeleteShow: false,\n      searchHistoriesClone: this.searchHistories\n    }\n  },\n  methods: {\n    onHistoryClick (item, index) {\n      if (this.isDeleteShow) {\n        // 删除状态，删除历史记录数据\n        this.searchHistoriesClone.splice(index, 1)\n      } else {\n        // 非删除状态，直接进入搜索\n        this.$emit('search', item)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search-history.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search-history.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search-history.vue?vue&type=template&id=9b4a977e&scoped=true&\"\nimport script from \"./search-history.vue?vue&type=script&lang=js&\"\nexport * from \"./search-history.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b4a977e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-suggestion\"},_vm._l((_vm.suggestions),function(item,index){return _c('van-cell',{key:index,attrs:{\"icon\":\"search\"},on:{\"click\":function($event){return _vm.$emit('search', item)}}},[_c('span',{attrs:{\"slot\":\"title\"},domProps:{\"innerHTML\":_vm._s(_vm.highlight(item))},slot:\"title\"})])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-suggestion\">\n    <van-cell\n      v-for=\"(item, index) in suggestions\"\n      :key=\"index\"\n      icon=\"search\"\n      @click=\"$emit('search', item)\"\n    >\n      <span slot=\"title\" v-html=\"highlight(item)\"></span>\n    </van-cell>\n  </div>\n</template>\n\n<script>\nimport { getSearchSuggestionsAPI } from '../../../api/index.js'\nimport { debounce } from 'lodash'\nexport default {\n  name: 'SearchSuggestion',\n  props: {\n    searchText: {\n      type: String,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      suggestions: [] // 联想建议数据列表\n    }\n  },\n  watch: {\n    searchText: {\n      // 监视的处理函数\n      handler: debounce(function (newVal) {\n        // 调用查询方法\n        this.loadSearchSuggestion(newVal)\n      }, 200),\n      // 首次监视触发\n      immediate: true\n    }\n  },\n  methods: {\n    // 查询数据进口\n    async loadSearchSuggestion (val) {\n      try {\n        const { data: res } = await getSearchSuggestionsAPI(val)\n        this.suggestions = res.data.options\n      } catch {\n        this.$toast('获取失败')\n      }\n    },\n\n    highlight (text) {\n      const highlightStr = `<span class=\"active\">${this.searchText}</span>`\n      // 方案一\n      // 正则表达式 // 中间的内容都会当作匹配字符来使用，而不是数据变量\n      // 如果需要根据数据变量动态的创建正则表达式，则手动 new RegExp\n      // RegExp 正则表达式构造函数\n      //    参数1：匹配模式字符串，它会根据这个字符串创建正则对象\n      //    参数2：匹配模式，要写到字符串中\n      // const reg = new RegExp(this.searchText, 'gi')\n      // return text.replace(reg, highlightStr)\n\n      // 方案二\n      return text && text.split(this.searchText).join(highlightStr)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.search-suggestion {\n  /deep/ span.active {\n    color: #3296fa;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search-suggestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search-suggestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search-suggestion.vue?vue&type=template&id=3f0e0210&scoped=true&\"\nimport script from \"./search-suggestion.vue?vue&type=script&lang=js&\"\nexport * from \"./search-suggestion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search-suggestion.vue?vue&type=style&index=0&id=3f0e0210&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f0e0210\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-result\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error\":_vm.error,\"error-text\":\"加载失败，请点击重试\"},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('van-cell',{key:item.art_id,attrs:{\"title\":item.title}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-result\">\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      :error.sync=\"error\"\n      error-text=\"加载失败，请点击重试\"\n      @load=\"onLoad\"\n    >\n      <van-cell v-for=\"item in list\" :key=\"item.art_id\" :title=\"item.title\" />\n    </van-list>\n  </div>\n</template>\n\n<script>\nimport { getSearchResultAPI } from '../../../api/index.js'\nexport default {\n  name: 'SearchResult',\n  props: {\n    searchText: {\n      type: String,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      list: [],\n      loading: false,\n      finished: false,\n      page: 1,\n      perPage: 20,\n      error: false\n    }\n  },\n  methods: {\n    async onLoad () {\n      try {\n        // 1. 请求获取数据\n        const { data: res } = await getSearchResultAPI({\n          page: this.page, // 页码\n          per_page: this.perPage, // 每页大小\n          q: this.searchText // 搜索关键字\n        })\n        // 2. 将数据添加到列表中\n        this.list.push(...res.data.results)\n        // 3. 设置加载状态结束\n        this.loading = false\n        // 4. 判断数据是否加载完毕\n        if (res.data.results.length) {\n          this.page++ // 更新获取下一页数据的页码\n        } else {\n          this.finished = true // 没有数据了，将加载状态设置结束，不再 onLoad\n        }\n      } catch (error) {\n        // 展示加载失败的提示状态\n        this.error = true\n\n        // 加载失败了 loading 也要关闭\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\"></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search-result.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search-result.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search-result.vue?vue&type=template&id=2b7fc093&scoped=true&\"\nimport script from \"./search-result.vue?vue&type=script&lang=js&\"\nexport * from \"./search-result.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b7fc093\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"search-container\">\r\n    <!-- 顶部搜索事件监听\r\n    Tips: 在 van-search 外层增加 form 标签，且 action 不为空，即可在 iOS 输入法中显示搜索按钮。\r\n    -->\r\n    <form action=\"/\">\r\n      <van-search\r\n        v-model=\"searchText\"\r\n        show-action\r\n        background=\"#3296fa\"\r\n        placeholder=\"请输入搜索关键词\"\r\n        @search=\"onSearch\"\r\n        @cancel=\"onCancel\"\r\n        @focus=\"isResultShow = false\"\r\n      />\r\n    </form>\r\n\r\n    <!-- 搜索结果 有结果就展示 -->\r\n    <search-result v-if=\"isResultShow\" :searchText=\"searchText\"></search-result>\r\n\r\n    <!-- 联想建议 有内容则建议 -->\r\n    <search-suggestion v-else-if=\"searchText\" :searchText=\"searchText\" @search=\"onSearch\"></search-suggestion>\r\n\r\n    <!-- 历史记录 -->\r\n    <search-history v-else :searchHistories=\"searchHistories\" @clear-search-histories=\"searchHistories = []\" @search=\"onSearch\"></search-history>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchHistory from './components/search-history.vue'\r\nimport SearchSuggestion from './components/search-suggestion.vue'\r\nimport SearchResult from './components/search-result.vue'\r\n\r\nimport { setItem, getItem } from '@/utils/storage'\r\n\r\nexport default {\r\n  name: 'SearchPage',\r\n  components: {\r\n    SearchHistory,\r\n    SearchSuggestion,\r\n    SearchResult\r\n  },\r\n  data () {\r\n    return {\r\n      searchText: '',\r\n      isResultShow: false, // 控制搜索结果的展示\r\n      searchHistories: getItem('TOUTIAO_SEARCH_HISTORIES') || [] // 搜索的历史记录数据\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    searchHistories (value) {\r\n      setItem('TOUTIAO_SEARCH_HISTORIES', value)\r\n    }\r\n    // searchHistories: {\r\n    //   handler () {}\r\n    // }\r\n  },\r\n\r\n  methods: {\r\n    onSearch (val) {\r\n      // 更新文本框内容\r\n      this.searchText = val\r\n\r\n      // 存储搜索历史记录\r\n      // 要求：不要有重复历史记录、最新的排在最前面\r\n      const index = this.searchHistories.indexOf(val)\r\n      if (index !== -1) {\r\n        this.searchHistories.splice(index, 1)\r\n      }\r\n      this.searchHistories.unshift(val)\r\n\r\n      // 渲染搜索结果\r\n      this.isResultShow = true\r\n    },\r\n    onCancel () {\r\n      this.$toast('取消')\r\n      this.$router.back()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-container {\r\n  padding-top: 106px;\r\n  .van-search__action {\r\n    color: white;\r\n  }\r\n\r\n  .van-search {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 1;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=41ebcab7&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=41ebcab7&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41ebcab7\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onSearch","onCancel","$event","isResultShow","model","value","callback","$$v","searchText","expression","searchHistories","staticRenderFns","$emit","_v","isDeleteShow","_l","item","index","key","onHistoryClick","_e","name","props","type","default","data","searchHistoriesClone","methods","component","domProps","_s","highlight","slot","suggestions","watch","handler","immediate","finished","error","onLoad","loading","art_id","title","list","page","perPage","per_page","q","components","SearchHistory","SearchSuggestion","SearchResult","setItem"],"sourceRoot":""}